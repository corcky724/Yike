var Yike=angular.module("Yike",["ngRoute","Controllers","Directives"]);Yike.config(["$routeProvider",function(o){o.when("/today",{templateUrl:"./views/today.html",controller:"TodayController"}).when("/older",{templateUrl:"./views/older.html",controller:"OlderController"}).when("/author",{templateUrl:"./views/author.html",controller:"AuthorController"}).when("/category",{templateUrl:"./views/category.html",controller:"CategoryController"}).when("/favourite",{templateUrl:"./views/favourite.html",controller:"FavouriteController"}).when("/settings",{templateUrl:"./views/settings.html",controller:"SettingsController"}).otherwise({redirectTo:"/today"})}]),Yike.run(["$rootScope",function(o){o.collapsed=!1,o.toggle=function(){o.collapsed=!o.collapsed;var t=document.querySelectorAll(".navs dd"),e=0,l=t.length;if(o.collapsed)for(e=0;e<l;e++)t[e].style.transform="translate(0)",t[e].style.transitionDelay="0.2s",t[e].style.transitionDuration=.15*(e+1)+"s";else for(e=l-1;e>-1;e--)t[e].style.transform="translate(-100%)",t[e].style.transitionDelay="",t[e].style.transitionDuration=.15*(l-e)+"s"}}]),angular.module("Controllers",[]).controller("DemoController",["$scope",function(o){}]).controller("NavController",["$scope",function(o){o.navs=[{title:"今日一刻",icon:"icon-home",link:"#!/today"},{title:"往期內容",icon:"icon-file-empty",link:"#!/older"},{title:"熱門作者",icon:"icon-pencil",link:"#!/author"},{title:"欄目瀏覽",icon:"icon-menu",link:"#!/category"},{title:"我的喜歡",icon:"icon-heart",link:"#!/favourite"},{title:"設置",icon:"icon-cog",link:"#!/settings"}]}]).controller("TodayController",["$scope","$http","$filter","$rootScope",function(o,t,e,l){var r=e("date")(new Date,"yyyy-MM-dd");l.title="今日一刻",l.index=0,l.loaded=!1,t({url:"./api/today.php",method:"get",params:{today:r}}).then(function(t){l.loaded=!0,o.date=t.data.date,o.posts=t.data.posts,console.log(o.posts)})}]).controller("OlderController",["$scope","$http","$rootScope",function(o,t,e){e.title="往期內容",e.index=1,e.loaded=!1,t({url:"./api/older.php",method:"get"}).then(function(t){e.loaded=!0,o.date=t.data.date,o.posts=t.data.posts,console.log(o.posts)})}]).controller("AuthorController",["$scope","$http","$rootScope",function(o,t,e){e.title="熱門作者",e.index=2,e.loaded=!1,t({url:"./api/author.php",method:"get"}).then(function(t){e.loaded=!0,o.rec=t.data.rec.authors,o.all=t.data.all.authors,console.log(o.rec),console.log(o.all)})}]).controller("CategoryController",["$scope","$http","$rootScope",function(o,t,e){e.title="項目瀏覽",e.index=3,e.loaded=!1,t({url:"./api/category.php",method:"get"}).then(function(o){e.loaded=!0,e.columns=o.data.columns,console.log(e.columns)})}]).controller("FavouriteController",["$scope",function(o){}]).controller("SettingsController",["$scope",function(o){}]),angular.module("Directives",[]);